<div class="card border-secondary h-100" [class.capability-deactivated]="getValue() == undefined"
  style="min-height: 200px;">
  <div class="card-header">
    <div class="my-auto">
      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="capabilityGeneric{{ capabilityIndex }}Active"
          [ngModel]="getValue() != undefined" (ngModelChange)="changeActive($event)">
        <label class="form-check-label" for="capabilityGeneric{{ capabilityIndex }}Active">
          {{ _channel?.channelName }}
        </label>
      </div>
    </div>
  </div>

  <div class="card-body h-100 d-flex" style="flex-direction: column; overflow: hidden;">
    <div class="row h-100">
      <!-- display all options, if there is more than one -->
      <div *ngIf="_channel.capabilities?.length > 1" class="col mr-3" style="overflow-y: auto">

        <div *ngFor="let capability of _channel.capabilities; let i = index;" class="form-check">
          <input [(ngModel)]="selectedCapability" (change)="capabilitySelected()" class="form-check-input" type="radio"
            name="capabilityGeneric{{ capabilityIndex }}Option" id="capabilityGeneric{{ capabilityIndex }}Option{{ i }}"
            [value]="capability">
          <label class="form-check-label" for="capabilityGeneric{{ capabilityIndex }}Option{{ i }}">
            {{ 'designer.fixtureCapabilityType.' + capability.capability.type | translate }}
          </label>
        </div>

      </div>

      <!-- display a slider to select the value for the currently selected capability, if it has a range -->
      <div *ngIf="capabilityHasRange()" class="col col-auto d-flex mx-auto" [class.pl-0]="_channel.capabilities?.length > 1"
        style="flex-direction: column;">
        <div class="mb-4 w-100 d-flex">
          <input #sliderValue class="mx-auto" type="text" [ngModel]="getValue() >= 0 ? getValue() : getDefaultValue()"
            (ngModelChange)="setValue($event)"
            style="width: 45px; height: 20px; text-align: center; font-size: 12px; font-family: monospace;">
        </div>

        <div class="h-100 w-100 d-flex">
          <mv-slider #slider class="mx-auto" [value]="getValue() >= 0 ? getValue() : getDefaultValue()"
            (change)="setValue($event.newValue)" [orientation]="'vertical'" [reversed]="true" style="height: 100%"
            [tooltip]="'hide'" [min]="getRangeMin()" [max]="getRangeMax()" [step]="1"></mv-slider>
        </div>
      </div>
    </div>
  </div>
</div>