<div class="card border-secondary h-100 panel">
  <div class="card-body h-100" *ngIf="sceneService.getSelectedScenes().length == 1">

    <accordion [closeOthers]="true">
      <accordion-group *ngFor="let item of sceneService.getSelectedScenes()[0].effects; let i = index" [isOpen]="effectService.selectedEffect == item"
        (isOpenChange)="openEffect(item, $event)">

        <button class="btn btn-link btn-block clearfix" accordion-heading>
          <div class="pull-left float-left">
            <i *ngIf="item.constructor.name == 'EffectCurve'" class="fa fa-area-chart fa-fw" aria-hidden="true"></i>
            <i *ngIf="item.constructor.name == 'EffectPanTilt'" class="fa fa-arrows-alt fa-fw" aria-hidden="true"></i>
            {{ item.constructor.name }}
          </div>
        </button>

        <div *ngIf="item.constructor.name == 'EffectCurve'">
          <app-effect-curve [curve]="item" [isSelected]="item == effectService.selectedEffect"></app-effect-curve>
        </div>

        <div *ngIf="item.constructor.name == 'EffectPanTilt'">
          <app-effect-pan-tilt></app-effect-pan-tilt>
        </div>

      </accordion-group>
    </accordion>

    <div class="d-flex mx-auto">
      <div class="dropdown show d-flex">
        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-plus" aria-hidden="true"></i> Add new effect
        </a>

        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <a class="dropdown-item" href="#" (click)="addCurveEffect()">
            <i class="fa fa-area-chart fa-fw" aria-hidden="true"></i> Curve</a>
          <a class="dropdown-item" href="#" (click)="addPanTiltEffect()">
            <i class="fa fa-arrows-alt fa-fw" aria-hidden="true"></i> Pan/Tilt</a>
        </div>
      </div>
    </div>

  </div>
</div>